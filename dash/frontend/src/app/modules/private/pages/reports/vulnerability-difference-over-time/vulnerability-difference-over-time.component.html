<div class="row h-xs-100 display-xs-block overflow-xs-auto me-xs-1">
  <div class="col-xs my-xs-7 ms-xs-7">
    <p class="font-size-xs-26 vertical-align-xs-bottom">Vulnerability Difference Over Time</p>
    <mat-card class="mb-xs-3">
      <mat-card-header>
        <p class="font-xs-500 ms-xs-6">Report Settings</p>
      </mat-card-header>
      <mat-card-content>
        <form class="width-xs-100 ms-xs-3" (ngSubmit)="submit()">
          <div class="row width-xs-100">
            <div class="col-xs-12 col-sm-6">
              <mat-form-field appearance="fill" [formGroup]="filterForm">
                <mat-label>Start Date</mat-label>
                <input matInput [matDatepicker]="startPicker" formControlName="startDate">
                <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                <mat-datepicker #startPicker></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-xs-12 col-sm-6">
              <mat-form-field appearance="fill" [formGroup]="filterForm">
                <mat-label>End date</mat-label>
                <input matInput [matDatepicker]="endPicker" formControlName="endDate">
                <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                <mat-datepicker #endPicker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <button [disabled]="!filtersValid"
                  mat-raised-button
                  color="primary"
                  type="submit">Search
          </button>
        </form>
      </mat-card-content>
    </mat-card>
    <mat-card class="overflow-xs-auto display-xs-flex mb-xs-3">
      <mat-card-content>
        <ngx-charts-line-chart
          [view]="lineChartAttributes.view"
          [scheme]="lineChartAttributes.colorScheme"
          [results]="lineChartAttributes.results"
          [legend]="lineChartAttributes.showLegend"
          [legendPosition]="lineChartAttributes.legendPosition"
          [gradient]="lineChartAttributes.gradient"
          [xAxis]="lineChartAttributes.showXAxis"
          [yAxis]="lineChartAttributes.showYAxis"
          [showXAxisLabel]="lineChartAttributes.showXAxisLabel"
          [showYAxisLabel]="lineChartAttributes.showYAxisLabel"
          [yAxisLabel]="lineChartAttributes.yAxisLabel"
          [xAxisLabel]="lineChartAttributes.xAxisLabel"
          [xAxisTickFormatting]="scanXTickFormatting"
          [yScaleMax]="lineChartAttributes.yScaleMax"
          [yScaleMin]="lineChartAttributes.yScaleMin"
          [autoScale]="lineChartAttributes.autoScale">
          <ng-template #tooltipTemplate let-model="model">
                <span>
                  Date: {{ model.name | date: 'mediumDate' }}
                </span>
            <br/>
            <span>Difference from Previous Day: {{ model.value }}</span>
          </ng-template>
          <ng-template #seriesTooltipTemplate let-model="model">
                <span>
                  Date: {{ model[0].name | date: 'mediumDate' }}
                </span>
            <br/>
            <span>Difference from Previous Day: {{ model[0].value }}</span>
          </ng-template>
        </ngx-charts-line-chart>
      </mat-card-content>
    </mat-card>
  </div>
</div>
